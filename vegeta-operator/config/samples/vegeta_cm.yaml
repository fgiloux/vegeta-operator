apiVersion: v1
kind: List
items:
- apiVersion: vegeta.testing.io/v1alpha1
  kind: Vegeta
  metadata:
    name: vegeta-sample
  spec:
    # Add fields here
    attack:
      bodyConfigMap: "body"
      rootCertsConfigMap: "rootcerts"
      duration: "10s"
      rate:     "5/1s"
      target:   "https://kubernetes.default.svc.cluster.local:443/healthz"
      headers:
        - "From: user@example.com"
        - "Pragma: no-cache"
    replicas: 1
- apiVersion: v1
  kind: ConfigMap
  metadata:
    name: rootcerts
  data:
    ca-bundle.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDUTCCAjmgAwIBAgIIBzfIXtB70CYwDQYJKoZIhvcNAQELBQAwNjE0MDIGA1UE
      Awwrb3BlbnNoaWZ0LXNlcnZpY2Utc2VydmluZy1zaWduZXJAMTYwNTI2NjYyMDAe
      Fw0yMDExMTMxMTIzMzlaFw0yMzAxMTIxMTIzNDBaMDYxNDAyBgNVBAMMK29wZW5z
      aGlmdC1zZXJ2aWNlLXNlcnZpbmctc2lnbmVyQDE2MDUyNjY2MjAwggEiMA0GCSqG
      SIb3DQEBAQUAA4IBDwAwggEKAoIBAQC43c1N8RXs7n7PUE13owzjsPdsSfyhzf8b
      JztGZ12gSfF/uIaaGjNaSDWS8xFMyq9dFhML/oEWV0cwusCwJ3658nS28+78DBoq
      spOlZAYI34d8M08amVZ9/le0/MkEDUwM1NmLaTF3DENc8P7JwtKVB0wXB6v4K7CR
      fpgcSIjeq09f2oG/k40Phy3Lh+gs1oJjE6s/vIA4pSD9X92xOeI62MAPfK4O6B5V
      qetz1pg5zBCQffjjwUQ+5+RALJ+QR+01D2kP0lXWTHB7oG1m9UotAMz4fERbCt8f
      wo9NvRTMe1cNfAPhfRuDJwgHWhKAxyMb2xIrmViL500DRjbo1uqfAgMBAAGjYzBh
      MA4GA1UdDwEB/wQEAwICpDAPBgNVHRMBAf8EBTADAQH/MB0GA1UdDgQWBBRI3j7Q
      jepF1/xMlPv0U7MZQ8cObDAfBgNVHSMEGDAWgBRI3j7QjepF1/xMlPv0U7MZQ8cO
      bDANBgkqhkiG9w0BAQsFAAOCAQEANaopJRYkBjKJ090YAlMupcOFCn5pVnhKpQ7Y
      ZxyCo1PwVVJkoDdh9zC9MdqA9AUHzi/Nsh+FDs9/MLgHChvnd2up7cu0S5syqSBR
      5udqvsvPK6lSHgH5jEovV2shO3ciSefsa2JS0fWzX1Z9KJ9yhRNCkkqyUn95BQnJ
      6UR2B+vhX9oHz1b5TghJN5E5jTceX3okuww6bsPFbycdEFWJMX37o82pwMir3nCd
      +A97TxMZxIgH5TtQZ2YnmHwGZ8S84Zocg/y1+L4Rs1+2mQFdiB2lcfLfWwdui0g6
      ne8wWBXRVvBZeTU9lyXN77DHFcpmcpHWKJMRcq9eXXeAAcR+Qg==
      -----END CERTIFICATE-----
- apiVersion: v1
  kind: ConfigMap
  metadata:
    name: body
  data:
    body.txt: |
      body
